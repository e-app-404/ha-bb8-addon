# ══════════════════════════════════════════════════════════════════
# ⟫⟫ RECORDER  •  recorder.yaml  •  Home Assistant Database Logger ◀
# ⟫⟫ stores data in a database for history and long-term analytics
# ⟫⟫ Loader • packages: !include_dir_named integrations
# ⟫⟫ Repo: github.com/home-assistant/core/blob/dev/homeassistant/components/recorder/__init__.py
# ⟫⟫ Tier: core  •  Domain: configuration  •  Updated: 2025-08-01
# ══════════════════════════════════════════════════════════════════

recorder:
  db_url: !secret mariadb_url
  auto_purge: true
  purge_keep_days: 7
  commit_interval: 30
  exclude:
    domains:
      - group
      - media_player
      - persistent_notification
      - update
      - zone
      - automation
      - service_removed
      - service_executed
      - call_service
    entity_globs:
      - sensor.sun*
      - sensor.time*
      - sensor.date*
      - weather.*
      - sensor.*_entity_list
      - sensor.*failover_summary
      - sensor.*_minutes_since_*
    entities:
      - sensor.current_date_natural
      - sensor.current_date_description
      - sensor.current_time_legacy
      - sensor.current_time
      - sensor.date_time_iso
      - sensor.date_time_utc_iso
      - sensor.date_time_utc
      - sensor.date_time
      - sun.sun
      - sensor.disabled_device_entities
      - group.unavailable_entities
      - variable.plex_tv_index
      - variable.plex_movie_index
    event_types:
      - call_service
      # DO NOT list "automation_triggered" here; we want to KEEP it for audits
