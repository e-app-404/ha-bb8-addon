%YAML 1.2
---
$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "urn:promachos:adr:frontmatter:v1"
title: "ADR Front-Matter Schema v1"
type: object
required: [title, date, status, author, related, supersedes, last_updated]
additionalProperties: true
properties:
  title:
    type: string
    minLength: 5
  date:
    type: string
    pattern: "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
  last_updated:
    type: string
    pattern: "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
  status:
    type: string
    enum: [Draft, Proposed, Accepted, Amended, Deprecated, Superseded, Rejected, Withdrawn, Approved]
  author:
    type: array
    minItems: 1
    items: { type: string }
  related:
    type: array
    items:
      type: string
      pattern: "^ADR-[0-9]{4}$"
  supersedes:
    type: array
    items:
      type: string
      pattern: "^ADR-[0-9]{4}$"
  tags:
    type: array
    items:
      type: string
      pattern: "^[a-z0-9][a-z0-9-]*$"
  visibility:
    type: string
    enum: [public, internal, confidential]
  decision_type:
    type: string
    enum: [architecture, process, governance, security, data]
  references:
    type: array
    items: { type: string }
