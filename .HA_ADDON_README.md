# Sphero BB-8 BLE/MQTT Bridge Home Assistant Add-on

This add-on enables Home Assistant to control a Sphero BB-8 robot via Bluetooth Low Energy (BLE) and MQTT.

## Features

- BLE connection to Sphero BB-8
- MQTT command/response bridge
- Heartbeat/status publishing
- Robust error handling and diagnostics

## Configuration

All options are set via the Home Assistant add-on UI:

- `bb8_mac`: The MAC address of your BB-8
- `mqtt_broker`: MQTT broker URL (default: core-mosquitto)
- `mqtt_username`/`mqtt_password`: MQTT credentials (optional)
- `mqtt_topic_prefix`: MQTT topic prefix (default: bb8)
- `ble_adapter`: BLE adapter (default: hci0)

## Usage

1. Install the add-on.
2. Set configuration options in the add-on UI.
3. Start the add-on. The service will connect to BB-8 and bridge MQTT commands.

## Development

- Entrypoint: `run.sh` reads config and launches the Python service.
- Main code: `/app/src/ha_sphero_bb8/`
- Logs: Viewable in the Home Assistant add-on log panel.

## Notes

- BLE access may require `privileged: true` and `host_dbus: true`.
- Test BLE on your HA hardware early.
- For MQTT discovery, extend the Python code to publish discovery topics.
