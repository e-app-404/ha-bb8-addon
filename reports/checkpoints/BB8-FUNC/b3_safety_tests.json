{"created": 1760114433.943674, "duration": 2.29854416847229, "exitcode": 0, "root": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/tests", "environment": {}, "summary": {"passed": 25, "total": 25, "collected": 27, "deselected": 2}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "integration/test_safety_estop.py", "type": "Module"}]}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController", "outcome": "passed", "result": [{"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_safety_config_from_env", "type": "Function", "lineno": 25}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_safety_config_defaults", "type": "Function", "lineno": 41}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_basic_drive_validation", "type": "Function", "lineno": 49}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_speed_clamping", "type": "Function", "lineno": 63}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_duration_clamping", "type": "Function", "lineno": 79}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_heading_wrapping", "type": "Function", "lineno": 95}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_rate_limiting", "type": "Function", "lineno": 108}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_device_offline_blocking", "type": "Function", "lineno": 127}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_estop_activation_and_blocking", "type": "Function", "lineno": 138}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_estop_clear_when_safe", "type": "Function", "lineno": 157}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_estop_clear_when_unsafe", "type": "Function", "lineno": 179}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_multiple_estop_activation", "type": "Function", "lineno": 197}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_auto_stop_scheduling", "type": "Coroutine", "lineno": 217}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_auto_stop_cancellation", "type": "Coroutine", "lineno": 238}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_safety_status_reporting", "type": "Function", "lineno": 261}]}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration", "outcome": "passed", "result": [{"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_drive_command_validation", "type": "Coroutine", "lineno": 305}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_drive_command_safety_violation", "type": "Coroutine", "lineno": 316}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_estop_activation", "type": "Coroutine", "lineno": 330}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_estop_clear", "type": "Coroutine", "lineno": 344}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_facade_blocks_drive_during_estop", "type": "Coroutine", "lineno": 356}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_telemetry_publishing", "type": "Coroutine", "lineno": 377, "deselected": true}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_telemetry_with_estop", "type": "Coroutine", "lineno": 417, "deselected": true}]}, {"nodeid": "integration/test_safety_estop.py::TestRateLimitingBurstProtection", "outcome": "passed", "result": [{"nodeid": "integration/test_safety_estop.py::TestRateLimitingBurstProtection::test_burst_command_throttling", "type": "Function", "lineno": 453}, {"nodeid": "integration/test_safety_estop.py::TestRateLimitingBurstProtection::test_rate_limit_recovery", "type": "Function", "lineno": 477}]}, {"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability", "outcome": "passed", "result": [{"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability::test_configurable_speed_limit", "type": "Function", "lineno": 496}, {"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability::test_configurable_duration_limit", "type": "Function", "lineno": 512}, {"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability::test_configurable_rate_limit", "type": "Function", "lineno": 530}]}, {"nodeid": "integration/test_safety_estop.py", "outcome": "passed", "result": [{"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController", "type": "Class"}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration", "type": "Class"}, {"nodeid": "integration/test_safety_estop.py::TestRateLimitingBurstProtection", "type": "Class"}, {"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability", "type": "Class"}]}], "tests": [{"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_safety_config_from_env", "lineno": 25, "outcome": "passed", "keywords": ["test_safety_config_from_env", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.0006069579976610839, "outcome": "passed"}, "call": {"duration": 0.0006647910049650818, "outcome": "passed"}, "teardown": {"duration": 0.00010624999413266778, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_safety_config_defaults", "lineno": 41, "outcome": "passed", "keywords": ["test_safety_config_defaults", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.00038204199518077075, "outcome": "passed"}, "call": {"duration": 0.000140791991725564, "outcome": "passed"}, "teardown": {"duration": 9.462499292567372e-05, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_basic_drive_validation", "lineno": 49, "outcome": "passed", "keywords": ["test_basic_drive_validation", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 7.52079940866679e-05, "outcome": "passed"}, "call": {"duration": 0.0002720420015975833, "outcome": "passed", "stdout": "2025-10-10 17:40:32,086 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 6.145800580270588e-05, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_speed_clamping", "lineno": 63, "outcome": "passed", "keywords": ["test_speed_clamping", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 6.166700040921569e-05, "outcome": "passed"}, "call": {"duration": 0.00024041699361987412, "outcome": "passed", "stdout": "2025-10-10 17:40:32,087 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 150}\n2025-10-10 17:40:32,087 WARNING:bb8_core.logging_setup: {'event': 'safety_speed_clamped', 'original': 200, 'clamped': 150, 'max_allowed': 150}\n2025-10-10 17:40:32,087 WARNING:bb8_core.logging_setup: {'event': 'safety_speed_clamped', 'original': -10, 'clamped': 0, 'max_allowed': 150}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 150}\n{\"event\": \"safety_speed_clamped\", \"original\": 200, \"clamped\": 150, \"max_allowed\": 150}\n{\"event\": \"safety_speed_clamped\", \"original\": -10, \"clamped\": 0, \"max_allowed\": 150}\n"}, "teardown": {"duration": 5.2916991990059614e-05, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_duration_clamping", "lineno": 79, "outcome": "passed", "keywords": ["test_duration_clamping", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 5.85000088904053e-05, "outcome": "passed"}, "call": {"duration": 0.00018820801051333547, "outcome": "passed", "stdout": "2025-10-10 17:40:32,087 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 1500, 'max_speed': 180}\n2025-10-10 17:40:32,087 WARNING:bb8_core.logging_setup: {'event': 'safety_duration_clamped', 'original': 3000, 'clamped': 1500, 'max_allowed': 1500}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 1500, \"max_speed\": 180}\n{\"event\": \"safety_duration_clamped\", \"original\": 3000, \"clamped\": 1500, \"max_allowed\": 1500}\n"}, "teardown": {"duration": 7.395801367238164e-05, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_heading_wrapping", "lineno": 95, "outcome": "passed", "keywords": ["test_heading_wrapping", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 7.458298932760954e-05, "outcome": "passed"}, "call": {"duration": 0.00021004202426411211, "outcome": "passed", "stdout": "2025-10-10 17:40:32,088 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 6.595801096409559e-05, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_rate_limiting", "lineno": 108, "outcome": "passed", "keywords": ["test_rate_limiting", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 8.370800060220063e-05, "outcome": "passed"}, "call": {"duration": 0.11616712500108406, "outcome": "passed", "stdout": "2025-10-10 17:40:32,088 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 100, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 100, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 0.00018641698989085853, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_device_offline_blocking", "lineno": 127, "outcome": "passed", "keywords": ["test_device_offline_blocking", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.00013800000306218863, "outcome": "passed"}, "call": {"duration": 0.0003944589989259839, "outcome": "passed", "stdout": "2025-10-10 17:40:32,205 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 0.0002777920162770897, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_estop_activation_and_blocking", "lineno": 138, "outcome": "passed", "keywords": ["test_estop_activation_and_blocking", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.00017970800399780273, "outcome": "passed"}, "call": {"duration": 0.00037237501237541437, "outcome": "passed", "stdout": "2025-10-10 17:40:32,206 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:32,206 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'Test emergency stop', 'timestamp': 1760114432.206908}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_estop_activated\", \"reason\": \"Test emergency stop\", \"timestamp\": 1760114432.206908}\n"}, "teardown": {"duration": 0.00010833298438228667, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_estop_clear_when_safe", "lineno": 157, "outcome": "passed", "keywords": ["test_estop_clear_when_safe", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 8.625001646578312e-05, "outcome": "passed"}, "call": {"duration": 0.0011826250120066106, "outcome": "passed", "stdout": "2025-10-10 17:40:32,207 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:32,208 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'Test emergency', 'timestamp': 1760114432.208396}\n2025-10-10 17:40:32,208 INFO:bb8_core.logging_setup: {'event': 'safety_estop_cleared', 'previous_reason': 'Test emergency', 'timestamp': 1760114432.208535}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_estop_activated\", \"reason\": \"Test emergency\", \"timestamp\": 1760114432.208396}\n{\"event\": \"safety_estop_cleared\", \"previous_reason\": \"Test emergency\", \"timestamp\": 1760114432.208535}\n"}, "teardown": {"duration": 0.000859292020322755, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_estop_clear_when_unsafe", "lineno": 179, "outcome": "passed", "keywords": ["test_estop_clear_when_unsafe", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.0004193750210106373, "outcome": "passed"}, "call": {"duration": 0.0006633749871980399, "outcome": "passed", "stdout": "2025-10-10 17:40:32,211 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:32,211 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'Test emergency', 'timestamp': 1760114432.2116868}\n2025-10-10 17:40:32,211 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_clear_denied', 'reason': 'Cannot clear emergency stop - device not connected'}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_estop_activated\", \"reason\": \"Test emergency\", \"timestamp\": 1760114432.2116868}\n{\"event\": \"safety_estop_clear_denied\", \"reason\": \"Cannot clear emergency stop - device not connected\"}\n"}, "teardown": {"duration": 0.00021691599977202713, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_multiple_estop_activation", "lineno": 197, "outcome": "passed", "keywords": ["test_multiple_estop_activation", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.00014212500536814332, "outcome": "passed"}, "call": {"duration": 0.00038475001929327846, "outcome": "passed", "stdout": "2025-10-10 17:40:32,212 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:32,212 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'First emergency', 'timestamp': 1760114432.212936}\n2025-10-10 17:40:32,212 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_already_active', 'current_reason': 'First emergency', 'new_reason': 'Second emergency'}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_estop_activated\", \"reason\": \"First emergency\", \"timestamp\": 1760114432.212936}\n{\"event\": \"safety_estop_already_active\", \"current_reason\": \"First emergency\", \"new_reason\": \"Second emergency\"}\n"}, "teardown": {"duration": 0.00010470900451764464, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_auto_stop_scheduling", "lineno": 217, "outcome": "passed", "keywords": ["test_auto_stop_scheduling", "asyncio", "pytestmark", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.0005159169959370047, "outcome": "passed"}, "call": {"duration": 0.15277762501500547, "outcome": "passed", "stdout": "2025-10-10 17:40:32,214 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:32,315 INFO:bb8_core.logging_setup: {'event': 'safety_auto_stop_triggered', 'duration_ms': 100}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_auto_stop_triggered\", \"duration_ms\": 100}\n"}, "teardown": {"duration": 0.0008326669922098517, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_auto_stop_cancellation", "lineno": 238, "outcome": "passed", "keywords": ["test_auto_stop_cancellation", "asyncio", "pytestmark", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.000294625002425164, "outcome": "passed"}, "call": {"duration": 0.15211679102503695, "outcome": "passed", "stdout": "2025-10-10 17:40:32,369 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 0.001260291988728568, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestMotionSafetyController::test_safety_status_reporting", "lineno": 261, "outcome": "passed", "keywords": ["test_safety_status_reporting", "TestMotionSafetyController", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.00015249999705702066, "outcome": "passed"}, "call": {"duration": 0.0006345830042846501, "outcome": "passed", "stdout": "2025-10-10 17:40:32,523 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:32,523 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'Test status', 'timestamp': 1760114432.523885}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_estop_activated\", \"reason\": \"Test status\", \"timestamp\": 1760114432.523885}\n"}, "teardown": {"duration": 0.0003880840085912496, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_drive_command_validation", "lineno": 305, "outcome": "passed", "keywords": ["test_drive_command_validation", "asyncio", "pytestmark", "TestFacadeSafetyIntegration", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.0021273749880492687, "outcome": "passed"}, "call": {"duration": 0.8209450409922283, "outcome": "passed", "stdout": "2025-10-10 17:40:32,529 INFO:bb8_core.logging_setup: {'event': 'facade_drive_success', 'speed': 100, 'heading': 90, 'duration_ms': 1500}\n", "stderr": "{\"event\": \"facade_drive_success\", \"speed\": 100, \"heading\": 90, \"duration_ms\": 1500}\n"}, "teardown": {"duration": 0.006450958026107401, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_drive_command_safety_violation", "lineno": 316, "outcome": "passed", "keywords": ["test_drive_command_safety_violation", "asyncio", "pytestmark", "TestFacadeSafetyIntegration", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.003734208003152162, "outcome": "passed"}, "call": {"duration": 0.002567208983236924, "outcome": "passed", "stdout": "2025-10-10 17:40:33,425 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'Test block', 'timestamp': 1760114433.425529}\n2025-10-10 17:40:33,426 WARNING:bb8_core.logging_setup: {'event': 'facade_drive_blocked_estop', 'speed': 100, 'heading': 90, 'duration_ms': 1500, 'reason': 'Motion blocked by emergency stop: Test block'}\n", "stderr": "{\"event\": \"safety_estop_activated\", \"reason\": \"Test block\", \"timestamp\": 1760114433.425529}\n{\"event\": \"facade_drive_blocked_estop\", \"speed\": 100, \"heading\": 90, \"duration_ms\": 1500, \"reason\": \"Motion blocked by emergency stop: Test block\"}\n"}, "teardown": {"duration": 0.0003180830099154264, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_estop_activation", "lineno": 330, "outcome": "passed", "keywords": ["test_estop_activation", "asyncio", "pytestmark", "TestFacadeSafetyIntegration", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.0007606250001117587, "outcome": "passed"}, "call": {"duration": 0.006447874999139458, "outcome": "passed", "stdout": "2025-10-10 17:40:33,429 INFO:bb8_core.logging_setup: {'event': 'safety_estop_cleared', 'previous_reason': 'Test block', 'timestamp': 1760114433.429562}\n2025-10-10 17:40:33,429 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'Test emergency', 'timestamp': 1760114433.429704}\n2025-10-10 17:40:33,430 INFO:bb8_core.logging_setup: {'event': 'facade_stop_success'}\n2025-10-10 17:40:33,435 ERROR:bb8_core.logging_setup: {'event': 'facade_telemetry_error', 'error': 'Object of type coroutine is not JSON serializable'}\n2025-10-10 17:40:33,435 WARNING:bb8_core.logging_setup: {'event': 'facade_estop_activated', 'reason': 'Test emergency'}\n", "stderr": "{\"event\": \"safety_estop_cleared\", \"previous_reason\": \"Test block\", \"timestamp\": 1760114433.429562}\n{\"event\": \"safety_estop_activated\", \"reason\": \"Test emergency\", \"timestamp\": 1760114433.429704}\n{\"event\": \"facade_stop_success\"}\n{\"event\": \"facade_telemetry_error\", \"error\": \"Object of type coroutine is not JSON serializable\"}\n{\"event\": \"facade_estop_activated\", \"reason\": \"Test emergency\"}\n"}, "teardown": {"duration": 0.00026629198691807687, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_estop_clear", "lineno": 344, "outcome": "passed", "keywords": ["test_estop_clear", "asyncio", "pytestmark", "TestFacadeSafetyIntegration", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.0006824590091127902, "outcome": "passed"}, "call": {"duration": 0.0009094580018427223, "outcome": "passed", "stdout": "2025-10-10 17:40:33,437 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_already_active', 'current_reason': 'Test emergency', 'new_reason': 'Test emergency'}\n2025-10-10 17:40:33,437 INFO:bb8_core.logging_setup: {'event': 'safety_estop_cleared', 'previous_reason': 'Test emergency', 'timestamp': 1760114433.437359}\n2025-10-10 17:40:33,437 ERROR:bb8_core.logging_setup: {'event': 'facade_telemetry_error', 'error': 'Object of type coroutine is not JSON serializable'}\n2025-10-10 17:40:33,437 INFO:bb8_core.logging_setup: {'event': 'facade_estop_cleared', 'reason': 'Emergency stop cleared (was: Test emergency)'}\n", "stderr": "{\"event\": \"safety_estop_already_active\", \"current_reason\": \"Test emergency\", \"new_reason\": \"Test emergency\"}\n{\"event\": \"safety_estop_cleared\", \"previous_reason\": \"Test emergency\", \"timestamp\": 1760114433.437359}\n{\"event\": \"facade_telemetry_error\", \"error\": \"Object of type coroutine is not JSON serializable\"}\n{\"event\": \"facade_estop_cleared\", \"reason\": \"Emergency stop cleared (was: Test emergency)\"}\n"}, "teardown": {"duration": 0.0006747919833287597, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestFacadeSafetyIntegration::test_facade_blocks_drive_during_estop", "lineno": 356, "outcome": "passed", "keywords": ["test_facade_blocks_drive_during_estop", "asyncio", "pytestmark", "TestFacadeSafetyIntegration", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.0007324159960262477, "outcome": "passed"}, "call": {"duration": 0.00272904199664481, "outcome": "passed", "stdout": "2025-10-10 17:40:33,439 WARNING:bb8_core.logging_setup: {'event': 'safety_estop_activated', 'reason': 'Test block', 'timestamp': 1760114433.439917}\n2025-10-10 17:40:33,440 INFO:bb8_core.logging_setup: {'event': 'facade_stop_success'}\n2025-10-10 17:40:33,441 ERROR:bb8_core.logging_setup: {'event': 'facade_telemetry_error', 'error': 'Object of type coroutine is not JSON serializable'}\n2025-10-10 17:40:33,442 WARNING:bb8_core.logging_setup: {'event': 'facade_estop_activated', 'reason': 'Test block'}\n2025-10-10 17:40:33,442 WARNING:bb8_core.logging_setup: {'event': 'facade_drive_blocked_estop', 'speed': 100, 'heading': 90, 'duration_ms': 1000, 'reason': 'Motion blocked by emergency stop: Test block'}\n2025-10-10 17:40:33,442 WARNING:bb8_core.logging_setup: {'event': 'facade_drive_blocked_estop', 'speed': 50, 'heading': 180, 'duration_ms': 500, 'reason': 'Motion blocked by emergency stop: Test block'}\n", "stderr": "{\"event\": \"safety_estop_activated\", \"reason\": \"Test block\", \"timestamp\": 1760114433.439917}\n{\"event\": \"facade_stop_success\"}\n{\"event\": \"facade_telemetry_error\", \"error\": \"Object of type coroutine is not JSON serializable\"}\n{\"event\": \"facade_estop_activated\", \"reason\": \"Test block\"}\n{\"event\": \"facade_drive_blocked_estop\", \"speed\": 100, \"heading\": 90, \"duration_ms\": 1000, \"reason\": \"Motion blocked by emergency stop: Test block\"}\n{\"event\": \"facade_drive_blocked_estop\", \"speed\": 50, \"heading\": 180, \"duration_ms\": 500, \"reason\": \"Motion blocked by emergency stop: Test block\"}\n"}, "teardown": {"duration": 0.0002799580106511712, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestRateLimitingBurstProtection::test_burst_command_throttling", "lineno": 453, "outcome": "passed", "keywords": ["test_burst_command_throttling", "TestRateLimitingBurstProtection", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 8.40419961605221e-05, "outcome": "passed"}, "call": {"duration": 0.0003649159916676581, "outcome": "passed", "stdout": "2025-10-10 17:40:33,443 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 8.05000017862767e-05, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestRateLimitingBurstProtection::test_rate_limit_recovery", "lineno": 477, "outcome": "passed", "keywords": ["test_rate_limit_recovery", "TestRateLimitingBurstProtection", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 0.00022254200302995741, "outcome": "passed"}, "call": {"duration": 0.06301149999490008, "outcome": "passed", "stdout": "2025-10-10 17:40:33,444 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 0.00012258300557732582, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability::test_configurable_speed_limit", "lineno": 496, "outcome": "passed", "keywords": ["test_configurable_speed_limit", "TestSafetyConfigurability", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 8.495899965055287e-05, "outcome": "passed"}, "call": {"duration": 0.0005233750271145254, "outcome": "passed", "stdout": "2025-10-10 17:40:33,508 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 100}\n2025-10-10 17:40:33,508 WARNING:bb8_core.logging_setup: {'event': 'safety_speed_clamped', 'original': 150, 'clamped': 100, 'max_allowed': 100}\n2025-10-10 17:40:33,508 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 150}\n2025-10-10 17:40:33,508 WARNING:bb8_core.logging_setup: {'event': 'safety_speed_clamped', 'original': 200, 'clamped': 150, 'max_allowed': 150}\n2025-10-10 17:40:33,508 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 200}\n2025-10-10 17:40:33,508 WARNING:bb8_core.logging_setup: {'event': 'safety_speed_clamped', 'original': 250, 'clamped': 200, 'max_allowed': 200}\n2025-10-10 17:40:33,508 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 255}\n2025-10-10 17:40:33,508 WARNING:bb8_core.logging_setup: {'event': 'safety_speed_clamped', 'original': 305, 'clamped': 255, 'max_allowed': 255}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 100}\n{\"event\": \"safety_speed_clamped\", \"original\": 150, \"clamped\": 100, \"max_allowed\": 100}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 150}\n{\"event\": \"safety_speed_clamped\", \"original\": 200, \"clamped\": 150, \"max_allowed\": 150}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 200}\n{\"event\": \"safety_speed_clamped\", \"original\": 250, \"clamped\": 200, \"max_allowed\": 200}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 255}\n{\"event\": \"safety_speed_clamped\", \"original\": 305, \"clamped\": 255, \"max_allowed\": 255}\n"}, "teardown": {"duration": 0.00010462498175911605, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability::test_configurable_duration_limit", "lineno": 512, "outcome": "passed", "keywords": ["test_configurable_duration_limit", "TestSafetyConfigurability", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 8.379202336072922e-05, "outcome": "passed"}, "call": {"duration": 0.0004276249965187162, "outcome": "passed", "stdout": "2025-10-10 17:40:33,509 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 1000, 'max_speed': 180}\n2025-10-10 17:40:33,509 WARNING:bb8_core.logging_setup: {'event': 'safety_duration_clamped', 'original': 1500, 'clamped': 1000, 'max_allowed': 1000}\n2025-10-10 17:40:33,509 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:33,509 WARNING:bb8_core.logging_setup: {'event': 'safety_duration_clamped', 'original': 2500, 'clamped': 2000, 'max_allowed': 2000}\n2025-10-10 17:40:33,509 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 3000, 'max_speed': 180}\n2025-10-10 17:40:33,509 WARNING:bb8_core.logging_setup: {'event': 'safety_duration_clamped', 'original': 3500, 'clamped': 3000, 'max_allowed': 3000}\n2025-10-10 17:40:33,509 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 5000, 'max_speed': 180}\n2025-10-10 17:40:33,509 WARNING:bb8_core.logging_setup: {'event': 'safety_duration_clamped', 'original': 5500, 'clamped': 5000, 'max_allowed': 5000}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 1000, \"max_speed\": 180}\n{\"event\": \"safety_duration_clamped\", \"original\": 1500, \"clamped\": 1000, \"max_allowed\": 1000}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_duration_clamped\", \"original\": 2500, \"clamped\": 2000, \"max_allowed\": 2000}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 3000, \"max_speed\": 180}\n{\"event\": \"safety_duration_clamped\", \"original\": 3500, \"clamped\": 3000, \"max_allowed\": 3000}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 5000, \"max_speed\": 180}\n{\"event\": \"safety_duration_clamped\", \"original\": 5500, \"clamped\": 5000, \"max_allowed\": 5000}\n"}, "teardown": {"duration": 9.662497905083e-05, "outcome": "passed"}}, {"nodeid": "integration/test_safety_estop.py::TestSafetyConfigurability::test_configurable_rate_limit", "lineno": 530, "outcome": "passed", "keywords": ["test_configurable_rate_limit", "TestSafetyConfigurability", "test_safety_estop.py", "integration", "tests", ""], "setup": {"duration": 7.862501661293209e-05, "outcome": "passed"}, "call": {"duration": 0.43254245800198987, "outcome": "passed", "stdout": "2025-10-10 17:40:33,509 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 25, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:33,550 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 50, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:33,612 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 100, 'max_duration_ms': 2000, 'max_speed': 180}\n2025-10-10 17:40:33,727 INFO:bb8_core.logging_setup: {'event': 'safety_controller_init', 'min_interval_ms': 200, 'max_duration_ms': 2000, 'max_speed': 180}\n", "stderr": "{\"event\": \"safety_controller_init\", \"min_interval_ms\": 25, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 50, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 100, \"max_duration_ms\": 2000, \"max_speed\": 180}\n{\"event\": \"safety_controller_init\", \"min_interval_ms\": 200, \"max_duration_ms\": 2000, \"max_speed\": 180}\n"}, "teardown": {"duration": 0.00020462498650886118, "outcome": "passed"}}], "warnings": [{"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 353}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 219}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 483}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 406}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 483}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 437}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 219}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 483}, {"message": "coroutine 'AsyncMockMixin._execute_mock_call' was never awaited", "category": "RuntimeWarning", "when": "runtest", "filename": "/Users/evertappels/actions-runner/Projects/HA-BB8/addon/bb8_core/facade.py", "lineno": 406}]}