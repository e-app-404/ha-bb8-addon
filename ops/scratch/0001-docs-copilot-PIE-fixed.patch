diff --git a/.github/copilot-instructions.md b/.github/copilot-instructions.md
index 1111111..2222222 100644
--- a/.github/copilot-instructions.md
+++ b/.github/copilot-instructions.md
@@ -1,4 +1,4 @@
-# AI Coding Agent Instructions: HA-BB8 Add-on
+# AI Coding Agent Instructions: HA-BB8 Add-on (Governed, PIE-Optimized)
 
 ## Project Overview
 Home Assistant add-on for controlling Sphero BB-8 via BLE and MQTT. This codebase follows a layered architecture with comprehensive ADR governance, extensive testing, and operational evidence collection. Uses Alpine Linux v3.22 runtime with centralized configuration management and verified deployment pipeline.
@@ -12,10 +12,19 @@ Home Assistant add-on for controlling Sphero BB-8 via BLE and MQTT. This codeb
 - **facade.py**: BB8Facade - unified interface between MQTT dispatcher and BLE bridge
 - **addon_config.py**: Configuration loader with provenance (options.json → env → YAML fallback)
 
 ### Service Flow
 ```
-run.sh → bridge_controller.py → start_bridge_controller() → 
-  resolve_bb8_mac() → BleGateway → BLEBridge → BB8Facade → 
+run.sh → bridge_controller.py → start_bridge_controller() →
+  resolve_bb8_mac() → BleGateway → BLEBridge → BB8Facade →
   mqtt_dispatcher.start_mqtt_dispatcher()
 ```
 
+### Runtime Model Policy (PIE: P3 — Prevent)
+**Do not mix supervision models.**
+* **Foreground single-proc (Gate A/B):** `run.sh` must `exec` the target (echo/bridge). Keep conflicting `services.d/*` entries **down**.
+* **s6-managed (multi-service):** `run.sh` starts `s6-svscan`; only services **without** `down` run.
+* Emit on startup:
+  - `RUNTIME_MODEL=foreground|s6`
+  - `SERVICE_LIST=[...]` (when s6)
+ADR alignment: 0031.
+
 ### Data Flow Patterns
 - **Config**: `/data/options.json` → environment vars → structured config with provenance logging
 - **MQTT**: Commands (`bb8/*/set`) → facade → BLE bridge → device, Status (`bb8/*/state`) published on changes
@@ -23,11 +32,32 @@ Home Assistant add-on for controlling Sphero BB-8 via BLE and MQTT. This codeb
 
 ## Critical Development Practices
 
-### Import & Module Structure
-- **Runtime imports**: Use `bb8_core.*` when running from `addon/` directory (matches `python -m bb8_core.echo_responder`)
-- **Test imports**: Use `addon.bb8_core.*` in test files that run from workspace root
-- Use `from __future__ import annotations` for forward compatibility
-- Suppress paho-mqtt deprecation warnings: `warnings.filterwarnings("ignore", "Callback API version 1 is deprecated")`
-- All modules use `__all__` exports for explicit public interface
+### Import & Module Structure (PIE: P4 — Prevent)
+* **Runtime imports:** Use `bb8_core.*` when the working dir is `addon/` and entrypoint is `python -m bb8_core.<module>`.
+* **Tests (workspace root):** Use `addon.bb8_core.*`. Ensure pytest adds repo root to `PYTHONPATH` (via `pytest.ini`).
+* **Do not mix** import styles in the same run.
+* **Guardrail:** Do not mutate `sys.path` inside production modules.
+* Use `from __future__ import annotations` where helpful; export `__all__` explicitly.
+
+### MQTT Client Initialization (PAHO v2) (PIE: P1 — Prevent)
+Use the correct API rather than suppressing warnings.
+```python
+import paho.mqtt.client as mqtt
+# Prefer MQTTv5 if broker supports it; otherwise use MQTTv311.
+client = mqtt.Client(
+    callback_api_version=mqtt.CallbackAPIVersion.VERSION2,
+    protocol=mqtt.MQTTv5  # or mqtt.MQTTv311
+)
+def on_connect(client, userdata, flags, reasonCode, properties=None):
+    client.subscribe(f"{base}/echo/cmd")
+client.on_connect = on_connect
+```
+If using MQTTv311, adapt the signature:
+```python
+def on_connect(client, userdata, flags, rc):
+    client.subscribe(f"{base}/echo/cmd")
+```
+ADR alignment: 0032, 0035.
 
 ### Configuration System
 ```python
@@ -45,6 +75,21 @@ logger.info({"event": "structured_event", "key": "value"})
 - Auto-redaction of secrets (password, token, apikey patterns)
 - NO print statements or `logging.basicConfig()` elsewhere
 
+**Masked Keys (PIE: P5 — Prevent)**
+* Always mask: `MQTT_PASSWORD`, `HA_TOKEN`, `API_KEY`, any `*_SECRET`.
+* Use exact placeholder: `[MASKED]` for diff-friendly evidence.
+* Emit a single masked preview on startup:
+```json
+{"event":"startup_env_preview","MQTT_HOST":"...","MQTT_PORT":1883,"MQTT_USER":"[MASKED]","MQTT_PASSWORD":"[MASKED]"}
+```
+ADR alignment: 0041.
+
+**Standardized MQTT Lifecycle Events (PIE: I5 — Improve)**
+* `mqtt_connect_success`: `{"host":"...","port":1883}`
+* `mqtt_subscribed`: `{"topic":"..."}`
+* `mqtt_publish`: `{"topic":"...","len":123}`
+* `mqtt_disconnect`: `{"reason":"..."}`
+Rationale: Faster grepping and evidence parsing.
+
 ## Testing & Quality
 
 ### Test Organization (addon/tests/)
@@ -62,6 +107,12 @@ make evidence-stp4  # End-to-end MQTT roundtrip attestation
 - Use `# pragma: no cover` for unreachable/external integration code
 - 200+ tests target for comprehensive validation
 
+### Test Runtime Policy (PIE: I3 — Improve)
+* Mark hardware/long BLE tests with `@pytest.mark.slow`.
+* Default local runs deselect slow tests: `pytest -q -k 'not slow'`.
+* CI gates run full suite; local dev uses fast set for iteration.
+* `pytest-xdist` can be used locally for parallel-safe modules.
+
 ## Home Assistant Integration
 
 ### MQTT Topics & Discovery
@@ -95,9 +146,18 @@ Home Assistant add-on for controlling Sphero BB-8 via BLE and MQTT. This codeb
 
 ### Evidence Collection
 - Runtime telemetry via `EvidenceRecorder` (150 lines max)
 - Diagnostics via `ops/diag/collect_ha_bb8_diagnostics.sh`
 - Attestation via STP4 protocol for MQTT roundtrip validation
 
+#### Evidence Contract (Governed) (PIE: P2 — Prevent)
+* Only **governed harness/tests** may write under `reports/checkpoints/**`.
+* Exploratory/ad-hoc scripts must write to `sandbox/` or `tmp/`, **never** to `reports/checkpoints/**`.
+* Any startup/config mutation must emit a timestamped backup under `/config/hestia/workspace/archive/**`.
+* Include `manifest.sha256` for every checkpoint directory.
+ADR alignment: 0008, 0031, 0041.
+
 ### Deployment Pipeline (ADR-0008)
 ```bash
 # Verified end-to-end deployment (PREFERRED)
@@ -207,6 +267,17 @@ CONTEXT_HANDOFF:
   next_actions: [<prioritized tasks>]
 ```
 
+**Workspace Map Refresh (PIE: E2 — Extend)**
+* On new branches or file moves, refresh `tools/index.jsonl` (workspace map) and commit it.
+* Agents should read this index first to target changes precisely.
+ADR alignment: 0019.
+
+## Editing Protocol for the AI Agent (PIE: I4 — Improve)
+1. **PLAN**: List files to touch, risks, expected artifacts.
+2. **DIFF**: Produce unified diffs; do not modify ADRs without explicit approval.
+3. **RUN**: Use governed commands (`make qa`, harness tests). No ad-hoc writes to `reports/checkpoints/**`.
+4. **EVIDENCE**: Attach logs and updated `manifest.sha256`. Stop on failure and record it.
+ADR alignment: 0009, 0031.
+
+## VSCode Profile (recommended) (PIE: I2 — Improve)
+Create `.vscode/settings.json`, `.vscode/tasks.json`, and `.vscode/extensions.json` (see repo files).
+Rationale: Fewer editor-induced errors; faster QA/deploy loops.
+
+## Workspace Hygiene (PIE: I1 — Improve)
+Add a `.dockerignore` to speed builds and avoid shipping dev artifacts (see repo file).
+ADR alignment: 0008.
+
+## Optional: Devcontainer (local dev only) (PIE: E1 — Extend)
+Provide a devcontainer for local lint/type/test only. **Do not** use it for Supervisor-governed operational tests (ADR-0031).
+
+## Command Palette Cheatsheet (PIE: E3 — Extend)
+* **Tests: fast** — `pytest -q addon/tests -k 'not slow'`
+* **QA** — `make qa`
+* **Evidence (STP4)** — `make evidence-stp4`
+* **Release patch** — `make release-patch`
+
 ### Common Anti-Patterns by Model
 
 **GPT-4o mini Anti-Patterns:**
@@ -223,6 +294,8 @@ python3 -m venv .venv && source .venv/bin/activate
 pip install -r addon/requirements.txt -r addon/requirements-dev.txt  
 pytest -q addon/tests                    # Run tests
 make qa                                   # Full quality suite
 ```
+
+> Note: local fast cycle is `pytest -q -k 'not slow'`. CI uses full suite for coverage gates.
+
diff --git a/.dockerignore b/.dockerignore
index aaaaaaa..bbbbbbb 100644
--- a/.dockerignore
+++ b/.dockerignore
@@ -1,120 +1,20 @@
-# --- hard excludes
-.git
-.gitignore
-__pycache__/
-.pytest_cache/
-*.pyc
-*.pyo
-*.egg-info/
-reports/
-tests/
-coverage.json
-pytest-report.xml
-.DS_Store
-
-# --- allowlist: ensure required runtime files are always included
-!bb8_core/**
-!app/**
-!services.d/**
-!run.sh
-!requirements.txt
-!requirements.txt.*
-!config.yaml
-!Dockerfile
-!VERSION
-# Build context minimization for HA add-on
-.git
-.gitignore
+# Build hygiene for faster, reproducible images
 .venv/
-# --- hard excludes (keep tidy)
-.tox
-__pycache__/
-reports/
-tests/
-docs/
-tools/
-../reports
-*.md
-*.toml
-*.ini
-*.log
-# --- allowlist: ensure required runtime files are always included
-!bb8_core/**
-!app/**
-!services.d/**
-!run.sh
-!requirements.txt
-!requirements.txt.*
-!config.yaml
-!Dockerfile
-!VERSION
-*.tar.gz
-*.zip
-.editorconfig
-.ruff_cache/
-.pytest_cache/
-# Exclude all test and dev files from context
-app/test_ble_adapter.py
-addon/tests/
-addon/tools/
-addon/docs/
-addon/reports/
-addon/__pycache__/
-addon/.ruff_cache/
-addon/.pytest_cache/
-addon/.venv/
-addon/.tox/
-addon/*.md
-addon/*.toml
-addon/*.ini
-addon/*.log
-addon/*.tar.gz
-addon/*.zip
-addon/.editorconfig
-# -------- Python caches / test artifacts --------
-__pycache__/
-*.py[cod]
+**/__pycache__/
+*.pyc
 .pytest_cache/
-.ruff_cache/
 .mypy_cache/
-.hypothesis/
-htmlcov/
-coverage.*
-coverage.json
-pytest-report.xml
-*.coverage
-pytest-report.xml
-*.junit.xml
-# --- CI/test artifacts (always exclude)
-coverage.json
-pytest-report.xml
+.ruff_cache/
+.DS_Store
+.git/
+.gitignore
 reports/
-.pytest_cache/
-__pycache__/
-*.pyc
-*.pyo
-*.pyd
-*.swp
-.mypy_cache/
-.ruff_cache/
+sandbox/
+tmp/
+dist/
+build/
+*.egg-info/
+addon/ha_bb8.egg-info/
+node_modules/
+.vscode/
+*.log
diff --git a/.vscode/extensions.json b/.vscode/extensions.json
new file mode 100644
index 0000000..4444444
--- /dev/null
+++ b/.vscode/extensions.json
@@ -0,0 +1,10 @@
+{
+  "recommendations": [
+    "ms-python.python",
+    "ms-python.vscode-pylance",
+    "ms-python.black-formatter",
+    "charliermarsh.ruff",
+    "littlefoxteam.vscode-python-test-adapter",
+    "ryanluker.vscode-coverage-gutters"
+  ]
+}
diff --git a/.vscode/settings.json b/.vscode/settings.json
new file mode 100644
index 0000000..5555555
--- /dev/null
+++ b/.vscode/settings.json
@@ -0,0 +1,18 @@
+{
+  "python.testing.pytestArgs": ["addon/tests"],
+  "python.testing.unittestEnabled": false,
+  "python.testing.pytestEnabled": true,
+  "python.analysis.typeCheckingMode": "basic",
+  "editor.formatOnSave": true,
+  "python.formatting.provider": "black",
+  "ruff.lint.run": "onSave",
+  "ruff.enable": true,
+  "files.trimTrailingWhitespace": true,
+  "files.insertFinalNewline": true,
+  "search.exclude": {
+    "reports/**": true,
+    "sandbox/**": true,
+    ".venv/**": true
+  }
+}
diff --git a/.vscode/tasks.json b/.vscode/tasks.json
new file mode 100644
index 0000000..6666666
--- /dev/null
+++ b/.vscode/tasks.json
@@ -0,0 +1,12 @@
+{
+  "version": "2.0.0",
+  "tasks": [
+    { "label": "QA: make qa", "type": "shell", "command": "make qa", "group": "build" },
+    { "label": "Tests: fast", "type": "shell", "command": "pytest -q addon/tests -k 'not slow'", "group": "test" },
+    { "label": "Evidence: STP4", "type": "shell", "command": "make evidence-stp4", "group": "test" },
+    { "label": "Release: patch", "type": "shell", "command": "make release-patch", "group": "build" }
+  ],
+  "presentation": { 
+    "reveal": "always", "panel": "shared" 
+  }
+}
diff --git a/addon/CHANGELOG.md b/addon/CHANGELOG.md
index 7777777..8888888 100644
--- a/addon/CHANGELOG.md
+++ b/addon/CHANGELOG.md
@@ -1,3 +1,11 @@
 # Add-on Changelog
 
+## 2025-10-08
+### Docs & Tooling
+- Optimize `copilot-instructions.md` using PIE methodology:
+  * P: PAHO v2 init (no blanket warning suppression), evidence-only writes policy, single runtime model, import/path policy, masked keys.
+  * I: VSCode profile (settings/tasks/extensions), workspace hygiene via `.dockerignore`, test runtime policy, PLAN→DIFF→RUN→EVIDENCE, MQTT lifecycle log schema.
+  * E: Optional devcontainer note, workspace map refresh, command palette cheatsheet.
+- ADR alignment: 0008, 0009, 0031, 0032, 0035, 0037, 0041. No runtime behavior changes.
+